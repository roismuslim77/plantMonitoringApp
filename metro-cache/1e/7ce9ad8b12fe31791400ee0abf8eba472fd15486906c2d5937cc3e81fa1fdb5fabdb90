{"dependencies":[{"name":"./constants","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.default = createMigrate;\n\n  var _constants = _$$_REQUIRE(_dependencyMap[0], \"./constants\");\n\n  function createMigrate(migrations, config) {\n    var _ref = config || {},\n        debug = _ref.debug;\n\n    return function (state, currentVersion) {\n      if (!state) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: no inbound state, skipping migration');\n        return Promise.resolve(undefined);\n      }\n\n      var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : _constants.DEFAULT_VERSION;\n\n      if (inboundVersion === currentVersion) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: versions match, noop migration');\n        return Promise.resolve(state);\n      }\n\n      if (inboundVersion > currentVersion) {\n        if (process.env.NODE_ENV !== 'production') console.error('redux-persist: downgrading version is not supported');\n        return Promise.resolve(state);\n      }\n\n      var migrationKeys = Object.keys(migrations).map(function (ver) {\n        return parseInt(ver);\n      }).filter(function (key) {\n        return currentVersion >= key && key > inboundVersion;\n      }).sort(function (a, b) {\n        return a - b;\n      });\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: migrationKeys', migrationKeys);\n\n      try {\n        var migratedState = migrationKeys.reduce(function (state, versionKey) {\n          if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: running migration for versionKey', versionKey);\n          return migrations[versionKey](state);\n        }, state);\n        return Promise.resolve(migratedState);\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    };\n  }\n});","map":[[2,0,1,0],[4,0,3,0,"exports"],[4,2,3,0,"exports"],[4,9,3,7],[4,10,3,8,"__esModule"],[4,20,3,0],[4,23,3,21],[4,27,3,0],[5,0,4,0,"exports"],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"default"],[5,17,4,0],[5,20,4,18,"createMigrate"],[5,33,4,0],[7,0,6,0],[7,6,6,4,"_constants"],[7,16,6,14],[7,19,6,17,"require"],[7,30,6,24],[7,64,6,0],[9,0,8,0],[9,11,8,9,"createMigrate"],[9,24,8,0],[9,25,8,23,"migrations"],[9,35,8,0],[9,37,8,35,"config"],[9,43,8,0],[9,45,8,43],[10,0,9,2],[10,8,9,6,"_ref"],[10,12,9,10],[10,15,9,13,"config"],[10,21,9,19],[10,25,9,23],[10,27,9,2],[11,0,9,2],[11,8,10,6,"debug"],[11,13,10,11],[11,16,10,14,"_ref"],[11,20,10,18],[11,21,10,19,"debug"],[11,26,9,2],[13,0,12,2],[13,11,12,9],[13,21,12,19,"state"],[13,26,12,9],[13,28,12,26,"currentVersion"],[13,42,12,9],[13,44,12,42],[14,0,13,4],[14,10,13,8],[14,11,13,9,"state"],[14,16,13,4],[14,18,13,16],[15,0,14,6],[15,12,14,10,"process"],[15,19,14,17],[15,20,14,18,"env"],[15,23,14,10],[15,24,14,22,"NODE_ENV"],[15,32,14,10],[15,37,14,35],[15,49,14,10],[15,53,14,51,"debug"],[15,58,14,6],[15,60,14,58,"console"],[15,67,14,65],[15,68,14,66,"log"],[15,71,14,58],[15,72,14,70],[15,125,14,58],[16,0,15,6],[16,15,15,13,"Promise"],[16,22,15,20],[16,23,15,21,"resolve"],[16,30,15,13],[16,31,15,29,"undefined"],[16,40,15,13],[16,41,15,6],[17,0,16,5],[19,0,18,4],[19,10,18,8,"inboundVersion"],[19,24,18,22],[19,27,18,25,"state"],[19,32,18,30],[19,33,18,31,"_persist"],[19,41,18,25],[19,45,18,43,"state"],[19,50,18,48],[19,51,18,49,"_persist"],[19,59,18,43],[19,60,18,58,"version"],[19,67,18,43],[19,72,18,70,"undefined"],[19,81,18,25],[19,84,18,82,"state"],[19,89,18,87],[19,90,18,88,"_persist"],[19,98,18,82],[19,99,18,97,"version"],[19,106,18,25],[19,109,18,107,"_constants"],[19,119,18,117],[19,120,18,118,"DEFAULT_VERSION"],[19,135,18,4],[21,0,19,4],[21,10,19,8,"inboundVersion"],[21,24,19,22],[21,29,19,27,"currentVersion"],[21,43,19,4],[21,45,19,43],[22,0,20,6],[22,12,20,10,"process"],[22,19,20,17],[22,20,20,18,"env"],[22,23,20,10],[22,24,20,22,"NODE_ENV"],[22,32,20,10],[22,37,20,35],[22,49,20,10],[22,53,20,51,"debug"],[22,58,20,6],[22,60,20,58,"console"],[22,67,20,65],[22,68,20,66,"log"],[22,71,20,58],[22,72,20,70],[22,119,20,58],[23,0,21,6],[23,15,21,13,"Promise"],[23,22,21,20],[23,23,21,21,"resolve"],[23,30,21,13],[23,31,21,29,"state"],[23,36,21,13],[23,37,21,6],[24,0,22,5],[26,0,23,4],[26,10,23,8,"inboundVersion"],[26,24,23,22],[26,27,23,25,"currentVersion"],[26,41,23,4],[26,43,23,41],[27,0,24,6],[27,12,24,10,"process"],[27,19,24,17],[27,20,24,18,"env"],[27,23,24,10],[27,24,24,22,"NODE_ENV"],[27,32,24,10],[27,37,24,35],[27,49,24,6],[27,51,24,49,"console"],[27,58,24,56],[27,59,24,57,"error"],[27,64,24,49],[27,65,24,63],[27,118,24,49],[28,0,25,6],[28,15,25,13,"Promise"],[28,22,25,20],[28,23,25,21,"resolve"],[28,30,25,13],[28,31,25,29,"state"],[28,36,25,13],[28,37,25,6],[29,0,26,5],[31,0,28,4],[31,10,28,8,"migrationKeys"],[31,23,28,21],[31,26,28,24,"Object"],[31,32,28,30],[31,33,28,31,"keys"],[31,37,28,24],[31,38,28,36,"migrations"],[31,48,28,24],[31,50,28,48,"map"],[31,53,28,24],[31,54,28,52],[31,64,28,62,"ver"],[31,67,28,52],[31,69,28,67],[32,0,29,6],[32,15,29,13,"parseInt"],[32,23,29,21],[32,24,29,22,"ver"],[32,27,29,21],[32,28,29,6],[33,0,30,5],[33,7,28,24],[33,9,30,7,"filter"],[33,15,28,24],[33,16,30,14],[33,26,30,24,"key"],[33,29,30,14],[33,31,30,29],[34,0,31,6],[34,15,31,13,"currentVersion"],[34,29,31,27],[34,33,31,31,"key"],[34,36,31,13],[34,40,31,38,"key"],[34,43,31,41],[34,46,31,44,"inboundVersion"],[34,60,31,6],[35,0,32,5],[35,7,28,24],[35,9,32,7,"sort"],[35,13,28,24],[35,14,32,12],[35,24,32,22,"a"],[35,25,32,12],[35,27,32,25,"b"],[35,28,32,12],[35,30,32,28],[36,0,33,6],[36,15,33,13,"a"],[36,16,33,14],[36,19,33,17,"b"],[36,20,33,6],[37,0,34,5],[37,7,28,24],[37,8,28,4],[38,0,36,4],[38,10,36,8,"process"],[38,17,36,15],[38,18,36,16,"env"],[38,21,36,8],[38,22,36,20,"NODE_ENV"],[38,30,36,8],[38,35,36,33],[38,47,36,8],[38,51,36,49,"debug"],[38,56,36,4],[38,58,36,56,"console"],[38,65,36,63],[38,66,36,64,"log"],[38,69,36,56],[38,70,36,68],[38,100,36,56],[38,102,36,100,"migrationKeys"],[38,115,36,56],[40,0,37,4],[40,10,37,8],[41,0,38,6],[41,12,38,10,"migratedState"],[41,25,38,23],[41,28,38,26,"migrationKeys"],[41,41,38,39],[41,42,38,40,"reduce"],[41,48,38,26],[41,49,38,47],[41,59,38,57,"state"],[41,64,38,47],[41,66,38,64,"versionKey"],[41,76,38,47],[41,78,38,76],[42,0,39,8],[42,14,39,12,"process"],[42,21,39,19],[42,22,39,20,"env"],[42,25,39,12],[42,26,39,24,"NODE_ENV"],[42,34,39,12],[42,39,39,37],[42,51,39,12],[42,55,39,53,"debug"],[42,60,39,8],[42,62,39,60,"console"],[42,69,39,67],[42,70,39,68,"log"],[42,73,39,60],[42,74,39,72],[42,123,39,60],[42,125,39,123,"versionKey"],[42,135,39,60],[43,0,40,8],[43,17,40,15,"migrations"],[43,27,40,25],[43,28,40,26,"versionKey"],[43,38,40,25],[43,39,40,15],[43,40,40,38,"state"],[43,45,40,15],[43,46,40,8],[44,0,41,7],[44,9,38,26],[44,11,41,9,"state"],[44,16,38,26],[44,17,38,6],[45,0,42,6],[45,15,42,13,"Promise"],[45,22,42,20],[45,23,42,21,"resolve"],[45,30,42,13],[45,31,42,29,"migratedState"],[45,44,42,13],[45,45,42,6],[46,0,43,5],[46,7,37,4],[46,8,43,6],[46,15,43,13,"err"],[46,18,43,6],[46,20,43,18],[47,0,44,6],[47,15,44,13,"Promise"],[47,22,44,20],[47,23,44,21,"reject"],[47,29,44,13],[47,30,44,28,"err"],[47,33,44,13],[47,34,44,6],[48,0,45,5],[49,0,46,3],[49,5,12,2],[50,0,47,1]]},"type":"js/module"}]}